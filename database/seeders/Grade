<?php

namespace Database\Seeders;

use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;

class GradeTypeSeeder extends Seeder
{
    /**
     * Создание типов оценок для электронного дневника
     *
     * Типы оценок с весами в пятибалльной системе:
     * - Контрольная работа: вес 3 (самая важная оценка)
     * - Тест: вес 2 (промежуточный контроль)
     * - Домашняя работа: вес 1 (текущая работа)
     * - Проект: вес 5 (максимальный вес)
     * - Устный ответ: вес 1 (текущая активность)
     * - Лабораторная работа: вес 2 (практическая работа)
     */
    public function run(): void
    {
        $gradeTypes = [
            [
                'name' => 'Контрольная работа',
                'short_name' => 'К/Р',
                'description' => 'Контрольная работа по пройденному материалу - основной вид проверки знаний',
                'weight' => 3, // Высокий вес - важная оценка
                'max_points' => 100, // Максимальная оценка в системе
                'is_active' => true,
            ],
            [
                'name' => 'Тест',
                'short_name' => 'Тест',
                'description' => 'Тестирование по изученной теме - быстрая проверка знаний',
                'weight' => 2, // Средний вес
                'max_points' => 100,
                'is_active' => true,
            ],
            [
                'name' => 'Самостоятельная работа',
                'short_name' => 'С/Р',
                'description' => 'Самостоятельная работа на уроке - проверка умения работать самостоятельно',
                'weight' => 1, // Низкий вес - текущая работа
                'max_points' => 100,
                'is_active' => true,
            ],
            [
                'name' => 'Домашняя работа',
                'short_name' => 'Д/З',
                'description' => 'Задание на дом - закрепление пройденного материала',
                'weight' => 1, // Низкий вес - текущая работа
                'max_points' => 100,
                'is_active' => true,
            ],
            [
                'name' => 'Проект',
                'short_name' => 'Проект',
                'description' => 'Проектная работа - комплексное задание, требующее самостоятельного исследования',
                'weight' => 5, // Максимальный вес - важная оценка
                'max_points' => 100,
                'is_active' => true,
            ],
            [
                'name' => 'Устный ответ',
                'short_name' => 'Отв',
                'description' => 'Устный ответ на уроке - проверка понимания материала',
                'weight' => 1, // Низкий вес - текущая активность
                'max_points' => 100,
                'is_active' => true,
            ],
            [
                'name' => 'Лабораторная работа',
                'short_name' => 'Л/Р',
                'description' => 'Лабораторная работа - практическое выполнение экспериментов и опытов',
                'weight' => 2, // Средний вес - практическая работа
                'max_points' => 100,
                'is_active' => true,
            ],
            [
                'name' => 'Практическая работа',
                'short_name' => 'П/Р',
                'description' => 'Практическая работа - применение теоретических знаний на практике',
                'weight' => 2, // Средний вес
                'max_points' => 100,
                'is_active' => true,
            ],
        ];

        foreach ($gradeTypes as $gradeType) {
            \App\Models\GradeType::updateOrCreate(
                ['name' => $gradeType['name']],
                $gradeType
            );
        }

        $this->command->info('Типы оценок успешно созданы:');
        $this->command->info('- Контрольная работа (вес: 3): основная проверка знаний');
        $this->command->info('- Тест (вес: 2): быстрая проверка материала');
        $this->command->info('- Самостоятельная работа (вес: 1): работа на уроке');
        $this->command->info('- Домашняя работа (вес: 1): закрепление материала');
        $this->command->info('- Проект (вес: 5): комплексное задание');
        $this->command->info('- Устный ответ (вес: 1): активность на уроке');
        $this->command->info('- Лабораторная работа (вес: 2): практические эксперименты');
        $this->command->info('- Практическая работа (вес: 2): применение теории');
    }
}
